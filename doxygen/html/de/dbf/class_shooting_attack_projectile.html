<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Magic Apprentice: ShootingAttackProjectile Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">The Magic Apprentice
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../dd/d12/class_shooting_attack_projectile-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ShootingAttackProjectile Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ShootingAttackProjectile:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/de2/class_shooting_attack_projectile__inherit__graph.png" border="0" usemap="#a_shooting_attack_projectile_inherit__map" alt="Inheritance graph"/></div>
<map name="a_shooting_attack_projectile_inherit__map" id="a_shooting_attack_projectile_inherit__map">
<area shape="rect" title=" " alt="" coords="5,123,165,320"/>
<area shape="rect" title=" " alt="" coords="57,5,114,75"/>
<area shape="poly" title=" " alt="" coords="88,90,88,123,83,123,83,90"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for ShootingAttackProjectile:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d0a/class_shooting_attack_projectile__coll__graph.png" border="0" usemap="#a_shooting_attack_projectile_coll__map" alt="Collaboration graph"/></div>
<map name="a_shooting_attack_projectile_coll__map" id="a_shooting_attack_projectile_coll__map">
<area shape="rect" title=" " alt="" coords="5,123,165,320"/>
<area shape="rect" title=" " alt="" coords="57,5,114,75"/>
<area shape="poly" title=" " alt="" coords="88,90,88,123,83,123,83,90"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3a120aa503288ef0233c4f70c4cce5b3" id="r_a3a120aa503288ef0233c4f70c4cce5b3"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a120aa503288ef0233c4f70c4cce5b3">_Ready</a> ()</td></tr>
<tr class="separator:a3a120aa503288ef0233c4f70c4cce5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273f58590ce1ef4773a83c9b6279ab6b" id="r_a273f58590ce1ef4773a83c9b6279ab6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a273f58590ce1ef4773a83c9b6279ab6b">Init</a> (<a class="el" href="../../d9/db7/class_attack.html">Attack</a> attack)</td></tr>
<tr class="separator:a273f58590ce1ef4773a83c9b6279ab6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6426c6069c7dd2198a91fec938f015dd" id="r_a6426c6069c7dd2198a91fec938f015dd"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6426c6069c7dd2198a91fec938f015dd">_PhysicsProcess</a> (double delta)</td></tr>
<tr class="separator:a6426c6069c7dd2198a91fec938f015dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0595a3c13e5e078a3a0649fcc8840f3" id="r_ac0595a3c13e5e078a3a0649fcc8840f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0595a3c13e5e078a3a0649fcc8840f3">OnAreaEntered</a> (Area2D area)</td></tr>
<tr class="separator:ac0595a3c13e5e078a3a0649fcc8840f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f166a7ccae27924aa495cadbd4a16f6" id="r_a1f166a7ccae27924aa495cadbd4a16f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f166a7ccae27924aa495cadbd4a16f6">OnBodyEntered</a> (Node2D body)</td></tr>
<tr class="separator:a1f166a7ccae27924aa495cadbd4a16f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af70532121cae295c3eba4c56b0408cc6" id="r_af70532121cae295c3eba4c56b0408cc6"><td class="memItemLeft" align="right" valign="top"><a id="af70532121cae295c3eba4c56b0408cc6" name="af70532121cae295c3eba4c56b0408cc6"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>SPEED</b> = 300</td></tr>
<tr class="memdesc:af70532121cae295c3eba4c56b0408cc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Speed of the attack. Do not set too high or evading might be too difficult. <br /></td></tr>
<tr class="separator:af70532121cae295c3eba4c56b0408cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f545315ef9e6c8ab9b7a6c33b5143de" id="r_a8f545315ef9e6c8ab9b7a6c33b5143de"><td class="memItemLeft" align="right" valign="top"><a id="a8f545315ef9e6c8ab9b7a6c33b5143de" name="a8f545315ef9e6c8ab9b7a6c33b5143de"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>MaxLifeTimeInSeconds</b> = 5</td></tr>
<tr class="memdesc:a8f545315ef9e6c8ab9b7a6c33b5143de"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum life time of the projectile, the projectile is remove afterwards <br /></td></tr>
<tr class="separator:a8f545315ef9e6c8ab9b7a6c33b5143de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358d17142b3ec427011645904c52cef4" id="r_a358d17142b3ec427011645904c52cef4"><td class="memItemLeft" align="right" valign="top"><a id="a358d17142b3ec427011645904c52cef4" name="a358d17142b3ec427011645904c52cef4"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>HomingTimer</b> = 1</td></tr>
<tr class="memdesc:a358d17142b3ec427011645904c52cef4"><td class="mdescLeft">&#160;</td><td class="mdescRight">time after spawn in which the projectile changes its direction according to the position of the player <br /></td></tr>
<tr class="separator:a358d17142b3ec427011645904c52cef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6426c6069c7dd2198a91fec938f015dd" name="a6426c6069c7dd2198a91fec938f015dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6426c6069c7dd2198a91fec938f015dd">&#9670;&#160;</a></span>_PhysicsProcess()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void ShootingAttackProjectile._PhysicsProcess </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>delta</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Change position of the projectile. Count down homing timer. As long as the homing timer is not up, accelerate the projectile in the direction of the current position of the player. Once the homing timer is up, the projectile keeps the last direction. Count down the max life time of the projectile and remove the projectile once the time is up </p>

</div>
</div>
<a id="a3a120aa503288ef0233c4f70c4cce5b3" name="a3a120aa503288ef0233c4f70c4cce5b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a120aa503288ef0233c4f70c4cce5b3">&#9670;&#160;</a></span>_Ready()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void ShootingAttackProjectile._Ready </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialise the random number generator needed to generate a random direction for the projectile. Set player so that the direction from the unicorn to the player can be determined later. </p>

</div>
</div>
<a id="a273f58590ce1ef4773a83c9b6279ab6b" name="a273f58590ce1ef4773a83c9b6279ab6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a273f58590ce1ef4773a83c9b6279ab6b">&#9670;&#160;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShootingAttackProjectile.Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/db7/class_attack.html">Attack</a></td>          <td class="paramname"><span class="paramname"><em>attack</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialise the projectiles parameters. Set the attack so that the projectile can damage the player when hitting them. Set max life time in seconds after which the projectile is removed again. Initialise the direction of the projectile as a random direction. Set the homing timer, which is the time the projectile is accelerated towards the current position of the player </p>

</div>
</div>
<a id="ac0595a3c13e5e078a3a0649fcc8840f3" name="ac0595a3c13e5e078a3a0649fcc8840f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0595a3c13e5e078a3a0649fcc8840f3">&#9670;&#160;</a></span>OnAreaEntered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShootingAttackProjectile.OnAreaEntered </td>
          <td>(</td>
          <td class="paramtype">Area2D</td>          <td class="paramname"><span class="paramname"><em>area</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets called when the spell hits a Health component since health components use area2Ds. Projectile mask is set such, that it can only hit the player. </p>

</div>
</div>
<a id="a1f166a7ccae27924aa495cadbd4a16f6" name="a1f166a7ccae27924aa495cadbd4a16f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f166a7ccae27924aa495cadbd4a16f6">&#9670;&#160;</a></span>OnBodyEntered()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ShootingAttackProjectile.OnBodyEntered </td>
          <td>(</td>
          <td class="paramtype">Node2D</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Since parts of the tilemap that have a collision layer are not area2D nodes, body entered is necessary to use. This function detects collisions with all types of 2D nodes. Check if the projectile entered a part of the tilemap, which means a wall or object, and remove the projectile. This requires mask 1 (Collision) to be set! </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>TheMagicApprentice/modules/entities/unicorns/unicorn-attacks/<b>ShootingAttackProjectile.cs</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
